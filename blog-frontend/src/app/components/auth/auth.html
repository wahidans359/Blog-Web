<app-navbar />
<div class="auth-container">
  <div class="auth-card">
    <div class="auth-header">
      <div class="tab-group">
        <button 
          (click)="navigateToTab('login')"
          [class.active]="activeTab === 'login'"
          type="button">
          <i class="fas fa-sign-in-alt"></i>
          Login
        </button>
        <button 
          (click)="navigateToTab('signup')"
          [class.active]="activeTab === 'signup'"
          type="button">
          <i class="fa-solid fa-envelope"></i>
          Signup
        </button>
        <div 
          class="tab-indicator" 
          [class.right]="activeTab === 'signup'">
        </div>
      </div>
    </div>

    <div class="auth-body">
      @if (activeTab === 'login') {
        <form (ngSubmit)="onLogin()" class="auth-form">
          <h2>Welcome Back</h2>
          <p class="subtitle">Please login to your account</p>

          <div class="form-group">
            <label for="login-email">Email</label>
            <div class="input-with-icon">
              <i class="fas fa-envelope"></i>
              <input 
                id="login-email"
                type="email" 
                placeholder="Enter your email" 
                [(ngModel)]="loginForm.email" 
                name="email" />
            </div>
          </div>

          <div class="form-group">
            <label for="login-password">Password</label>
            <div class="input-with-icon">
              <i class="fas fa-lock"></i>
              <input 
                id="login-password"
                [type]="showPassword.login ? 'text' : 'password'"
                placeholder="Enter your password" 
                [(ngModel)]="loginForm.password" 
                name="password" />
              <button 
                type="button"
                class="toggle-password"
                (click)="togglePasswordVisibility('login')">
                <i [class]="showPassword.login ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
              </button>
            </div>
          </div>

          <button 
            type="submit" 
            class="submit-btn"
            [class.loading]="isLoading">
            @if (isLoading) {
              <span class="spinner"></span>
            } @else {
              Login
            }
          </button>
        </form>
      }

      @if (activeTab === 'signup') {
        <form (ngSubmit)="onSignup()" class="auth-form">
          <h2>Create Account</h2>
          <p class="subtitle">Sign up for a new account</p>

          <div class="form-group">
            <label for="signup-name">Name</label>
            <div class="input-with-icon">
              <i class="fas fa-user"></i>
              <input 
                id="signup-name"
                type="text" 
                placeholder="Enter your name" 
                [(ngModel)]="signupForm.name" 
                name="name" />
            </div>
          </div>

          <div class="form-group">
            <label for="signup-email">Email</label>
            <div class="input-with-icon">
              <i class="fas fa-envelope"></i>
              <input 
                id="signup-email"
                type="email" 
                placeholder="Enter your email" 
                [(ngModel)]="signupForm.email" 
                name="email" />
            </div>
          </div>

          <div class="form-group">
            <label for="signup-password">Password</label>
            <div class="input-with-icon">
              <i class="fas fa-lock"></i>
              <input 
                id="signup-password"
                [type]="showPassword.signup ? 'text' : 'password'"
                placeholder="Create a password" 
                [(ngModel)]="signupForm.password" 
                name="password" />
              <button 
                type="button"
                class="toggle-password"
                (click)="togglePasswordVisibility('signup')">
                <i [class]="showPassword.signup ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
              </button>
            </div>
          </div>
          <div class="form-group">
      <label for="signup-confirm-password">Confirm Password</label>
      <div class="input-with-icon">
        <i class="fas fa-lock"></i>
        <input 
          id="signup-confirm-password"
          [type]="showPassword.confirmPassword ? 'text' : 'password'"
          placeholder="Confirm your password" 
          [(ngModel)]="signupForm.confirmPassword" 
          name="confirmPassword" />
        <button 
          type="button"
          class="toggle-password"
          (click)="togglePasswordVisibility('confirmPassword')">
          <i [class]="showPassword.confirmPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
        </button>
      </div>
    </div>
          <button 
            type="submit" 
            class="submit-btn"
            [class.loading]="isLoading">
            @if (isLoading) {
              <span class="spinner"></span>
            } @else {
              Sign Up
            }
          </button>
          @if (passwordError) {
      <div class="error-message">{{ passwordError }}</div>
    }
        </form>
      }
    </div>
  </div>
</div>